{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { animate, group, query, style, transition, trigger } from '@angular/animations';\nimport { timer } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nconst baseStyles = style({\n  // display: 'block',\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  width: '100%',\n  height: '100%'\n});\nexport let AppComponent = /*#__PURE__*/(() => {\n  class AppComponent {\n    constructor() {\n      this.backgrounds = ['https://images.unsplash.com/photo-1434907652076-85f8401482c3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1920'];\n    }\n    ngOnInit() {\n      this.dateTime = timer(0, 1000).pipe(map(() => {\n        return new Date();\n      }));\n    }\n    prepareRoute(outlet) {\n      if (outlet.isActivated) {\n        const tab = outlet.activatedRouteData['tab'];\n        if (!tab) return 'secondary';\n        return tab;\n      }\n    }\n    changeBGImage() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.loadingBGImage = true;\n        const result = yield fetch('https://source.unsplash.com/random/1920x1080', {\n          method: 'HEAD'\n        });\n        const alreadyGot = this.backgrounds.includes(result.url);\n        if (alreadyGot) {\n          // this is the same image as we currently have, so re-run the function\n          return this.changeBGImage();\n        }\n        this.backgrounds.push(result.url);\n      });\n    }\n    onBGImageLoad(imgEvent) {\n      // BG image has loaded, now remove the old BG image from the backgrounds array\n      const imgElement = imgEvent.target;\n      const src = imgElement.src;\n      this.backgrounds = this.backgrounds.filter(b => b === src);\n      this.loadingBGImage = false;\n    }\n  }\n  AppComponent.ɵfac = function AppComponent_Factory(t) {\n    return new (t || AppComponent)();\n  };\n  AppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AppComponent,\n    selectors: [[\"app-root\"]],\n    decls: 1,\n    vars: 0,\n    template: function AppComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"router-outlet\");\n      }\n    },\n    dependencies: [i1.RouterOutlet],\n    styles: [\".app-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.bg-img[_ngcontent-%COMP%]{position:fixed;height:100%;width:100%;object-fit:cover;z-index:-1}.content-section[_ngcontent-%COMP%]{flex-grow:1;min-height:0}.bottom-section[_ngcontent-%COMP%]{position:fixed;bottom:0;left:50%;transform:translate(-50%);display:flex}.bottom-section[_ngcontent-%COMP%]   app-tabs[_ngcontent-%COMP%]{margin:auto}.change-bg-btn[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;padding:10px;background:rgba(0,0,0,.1);color:#ffffffb3}.change-bg-btn[_ngcontent-%COMP%]:hover{background:rgba(0,0,0,.3);color:#fff}.change-bg-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}\"],\n    data: {\n      animation: [trigger('routeAnim', [transition(':increment', [style({\n        position: 'relative',\n        overflow: 'hidden'\n      }), query(':enter, :leave', [baseStyles], {\n        optional: true\n      }),\n      // query(':enter', [\n      //   style({ opacity: 0 })\n      // ], { optional: true }),\n      group([query(':leave', [animate('200ms ease-in', style({\n        opacity: 0,\n        transform: 'translateX(-50px)'\n      }))], {\n        optional: true\n      }), query(':enter', [style({\n        transform: 'translateX(50px)',\n        opacity: 0\n      }), animate('250ms 120ms ease-out', style({\n        opacity: 1,\n        transform: 'translateX(0)'\n      }))], {\n        optional: true\n      })])]), transition(':decrement', [style({\n        position: 'relative',\n        overflow: 'hidden'\n      }), query(':enter, :leave', [baseStyles], {\n        optional: true\n      }),\n      // query(':enter', [\n      //   style({ opacity: 0 })\n      // ], { optional: true }),\n      group([query(':leave', [animate('200ms ease-in', style({\n        opacity: 0,\n        transform: 'translateX(50px)'\n      }))], {\n        optional: true\n      }), query(':enter', [style({\n        transform: 'translateX(-50px)',\n        opacity: 0\n      }), animate('250ms 120ms ease-out', style({\n        opacity: 1,\n        transform: 'translateX(0)'\n      }))], {\n        optional: true\n      })])]), transition('* => secondary', [style({\n        position: 'relative'\n        // overflow: 'hidden'\n      }), query(':enter, :leave', [baseStyles], {\n        optional: true\n      }), group([query(':leave', [animate('200ms ease-in', style({\n        opacity: 0,\n        transform: 'scale(0.8)'\n      }))], {\n        optional: true\n      }), query(':enter', [style({\n        transform: 'scale(1.2)',\n        opacity: 0\n      }), animate('250ms 120ms ease-out', style({\n        opacity: 1,\n        transform: 'scale(1)'\n      }))], {\n        optional: true\n      })])]), transition('secondary => *', [style({\n        position: 'relative'\n        // overflow: 'hidden'\n      }), query(':enter, :leave', [baseStyles], {\n        optional: true\n      }), group([query(':leave', [animate('200ms ease-in', style({\n        opacity: 0,\n        transform: 'scale(1.25)'\n      }))], {\n        optional: true\n      }), query(':enter', [style({\n        transform: 'scale(0.8)',\n        opacity: 0\n      }), animate('250ms 120ms ease-out', style({\n        opacity: 1,\n        transform: 'scale(1)'\n      }))], {\n        optional: true\n      })])])]), trigger('bgAnim', [transition(':leave', [animate(1000, style({\n        opacity: 0\n      }))])]), trigger('fadeAnim', [transition(':enter', [style({\n        opacity: 0\n      }), animate(250, style({\n        opacity: 1\n      }))]), transition(':leave', [animate(250, style({\n        opacity: 0\n      }))])])]\n    }\n  });\n  return AppComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}