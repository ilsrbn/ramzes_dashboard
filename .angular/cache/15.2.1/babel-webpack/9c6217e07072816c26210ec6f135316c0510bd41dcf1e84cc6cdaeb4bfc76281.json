{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { BehaviorSubject, switchMap } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { IntersectionStatus } from '../directive/from-intersection-observer';\nlet PhotosComponent = class PhotosComponent {\n  constructor(photoService) {\n    this.photoService = photoService;\n    this.currentPage$ = new BehaviorSubject(1);\n    this.photos$ = this.currentPage$.pipe(switchMap(currentPage => this.photoService.getAllPhotos(1, 20 * currentPage)), map(res => res.data));\n  }\n  nextPage() {\n    this.currentPage$.next(this.currentPage$.value + 1);\n  }\n  prevPage() {\n    if (this.currentPage$.value > 1) {\n      this.currentPage$.next(this.currentPage$.value - 1);\n    }\n  }\n  handleDelete(id) {\n    this.photoService.deletePhotoById(id.toString()).subscribe();\n  }\n  onVisibilityChanged(e) {\n    console.log(e);\n    if (e === IntersectionStatus.Visible) {\n      this.nextPage();\n    }\n  }\n};\nPhotosComponent = __decorate([Component({\n  selector: 'app-photos',\n  templateUrl: './photos.component.html',\n  styleUrls: ['./photos.component.scss']\n})], PhotosComponent);\nexport { PhotosComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}