{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { timer } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { animate, group, query, style, transition, trigger } from '@angular/animations';\nimport * as i0 from \"@angular/core\";\nexport let LayoutComponent = /*#__PURE__*/(() => {\n  class LayoutComponent {\n    constructor() {\n      this.backgrounds = ['https://images.unsplash.com/photo-1434907652076-85f8401482c3?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1920'];\n    }\n    ngOnInit() {\n      this.dateTime = timer(0, 1000).pipe(map(() => {\n        return new Date();\n      }));\n    }\n    prepareRoute(outlet) {\n      if (outlet.isActivated) {\n        const tab = outlet.activatedRouteData['tab'];\n        if (!tab) return 'secondary';\n        return tab;\n      }\n    }\n    changeBGImage() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.loadingBGImage = true;\n        const result = yield fetch('https://source.unsplash.com/random/1920x1080', {\n          method: 'HEAD'\n        });\n        const alreadyGot = this.backgrounds.includes(result.url);\n        if (alreadyGot) {\n          // this is the same image as we currently have, so re-run the function\n          return this.changeBGImage();\n        }\n        this.backgrounds.push(result.url);\n      });\n    }\n    onBGImageLoad(imgEvent) {\n      // BG image has loaded, now remove the old BG image from the backgrounds array\n      const imgElement = imgEvent.target;\n      const src = imgElement.src;\n      this.backgrounds = this.backgrounds.filter(b => b === src);\n      this.loadingBGImage = false;\n    }\n  }\n  LayoutComponent.ɵfac = function LayoutComponent_Factory(t) {\n    return new (t || LayoutComponent)();\n  };\n  LayoutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LayoutComponent,\n    selectors: [[\"app-layout\"]],\n    decls: 2,\n    vars: 0,\n    template: function LayoutComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"layout works!\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    data: {\n      animation: [trigger('routeAnim', [transition(':increment', [style({\n        position: 'relative',\n        overflow: 'hidden'\n      }), query(':enter, :leave', [baseStyles], {\n        optional: true\n      }),\n      // query(':enter', [\n      //   style({ opacity: 0 })\n      // ], { optional: true }),\n      group([query(':leave', [animate('200ms ease-in', style({\n        opacity: 0,\n        transform: 'translateX(-50px)'\n      }))], {\n        optional: true\n      }), query(':enter', [style({\n        transform: 'translateX(50px)',\n        opacity: 0\n      }), animate('250ms 120ms ease-out', style({\n        opacity: 1,\n        transform: 'translateX(0)'\n      }))], {\n        optional: true\n      })])]), transition(':decrement', [style({\n        position: 'relative',\n        overflow: 'hidden'\n      }), query(':enter, :leave', [baseStyles], {\n        optional: true\n      }),\n      // query(':enter', [\n      //   style({ opacity: 0 })\n      // ], { optional: true }),\n      group([query(':leave', [animate('200ms ease-in', style({\n        opacity: 0,\n        transform: 'translateX(50px)'\n      }))], {\n        optional: true\n      }), query(':enter', [style({\n        transform: 'translateX(-50px)',\n        opacity: 0\n      }), animate('250ms 120ms ease-out', style({\n        opacity: 1,\n        transform: 'translateX(0)'\n      }))], {\n        optional: true\n      })])]), transition('* => secondary', [style({\n        position: 'relative'\n        // overflow: 'hidden'\n      }), query(':enter, :leave', [baseStyles], {\n        optional: true\n      }), group([query(':leave', [animate('200ms ease-in', style({\n        opacity: 0,\n        transform: 'scale(0.8)'\n      }))], {\n        optional: true\n      }), query(':enter', [style({\n        transform: 'scale(1.2)',\n        opacity: 0\n      }), animate('250ms 120ms ease-out', style({\n        opacity: 1,\n        transform: 'scale(1)'\n      }))], {\n        optional: true\n      })])]), transition('secondary => *', [style({\n        position: 'relative'\n        // overflow: 'hidden'\n      }), query(':enter, :leave', [baseStyles], {\n        optional: true\n      }), group([query(':leave', [animate('200ms ease-in', style({\n        opacity: 0,\n        transform: 'scale(1.25)'\n      }))], {\n        optional: true\n      }), query(':enter', [style({\n        transform: 'scale(0.8)',\n        opacity: 0\n      }), animate('250ms 120ms ease-out', style({\n        opacity: 1,\n        transform: 'scale(1)'\n      }))], {\n        optional: true\n      })])])]), trigger('bgAnim', [transition(':leave', [animate(1000, style({\n        opacity: 0\n      }))])]), trigger('fadeAnim', [transition(':enter', [style({\n        opacity: 0\n      }), animate(250, style({\n        opacity: 1\n      }))]), transition(':leave', [animate(250, style({\n        opacity: 0\n      }))])])]\n    }\n  });\n  return LayoutComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}