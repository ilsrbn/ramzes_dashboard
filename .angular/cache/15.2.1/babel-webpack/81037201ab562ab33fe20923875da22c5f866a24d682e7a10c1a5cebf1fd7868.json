{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"ng-zorro-antd/upload\";\nconst getBase64 = file => new Promise((resolve, reject) => {\n  const reader = new FileReader();\n  reader.readAsDataURL(file);\n  reader.onload = () => resolve(reader.result);\n  reader.onerror = error => reject(error);\n});\nexport let AddPhotoComponent = /*#__PURE__*/(() => {\n  class AddPhotoComponent {\n    constructor(router) {\n      this.router = router;\n      this.fileList = [];\n      this.previewImage = '';\n      this.previewVisible = false;\n      this.handlePreview = file => __awaiter(this, void 0, void 0, function* () {\n        if (!file.url && !file.preview) {\n          file.preview = yield getBase64(file.originFileObj);\n        }\n        this.previewImage = file.url || file.preview;\n        this.previewVisible = true;\n      });\n      this.handleChange = () => {\n        this.router.navigateByUrl('app/photos');\n      };\n    }\n  }\n  AddPhotoComponent.ɵfac = function AddPhotoComponent_Factory(t) {\n    return new (t || AddPhotoComponent)(i0.ɵɵdirectiveInject(i1.Router));\n  };\n  AddPhotoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddPhotoComponent,\n    selectors: [[\"app-add-photo\"]],\n    decls: 4,\n    vars: 3,\n    consts: [[1, \"add-photo-wrapper\", \"container\", \"has-blurred-white-bg\"], [1, \"is-bold\"], [\"nzListType\", \"picture-card\", \"nzAction\", \"http://localhost:3005/api/admin/photo\", \"nzAccept\", \"image/*\", \"nzMultiple\", \"\", 3, \"nzFileList\", \"nzShowButton\", \"nzPreview\", \"nzFileListChange\", \"nzChange\"]],\n    template: function AddPhotoComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n        i0.ɵɵtext(2, \"Add photos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"nz-upload\", 2);\n        i0.ɵɵlistener(\"nzFileListChange\", function AddPhotoComponent_Template_nz_upload_nzFileListChange_3_listener($event) {\n          return ctx.fileList = $event;\n        })(\"nzChange\", function AddPhotoComponent_Template_nz_upload_nzChange_3_listener() {\n          return ctx.handleChange;\n        });\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"nzFileList\", ctx.fileList)(\"nzShowButton\", ctx.fileList.length < 8)(\"nzPreview\", ctx.handlePreview);\n      }\n    },\n    dependencies: [i2.NzUploadComponent],\n    styles: [\".add-photo-wrapper[_ngcontent-%COMP%]{max-height:100%;overflow:auto;padding:35px;border-radius:5px}\"]\n  });\n  return AddPhotoComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}